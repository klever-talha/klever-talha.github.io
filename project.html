<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta -->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta
      name="description"
      content="I'm Talha Shaheen, a seasoned JavaScript developer with a passion for crafting automation software, websites, and web applications. With my expertise in JavaScript technologies, I specialize in delivering custom solutions that streamline processes and boost productivity. Dive into my portfolio to explore innovative projects and discover tailored solutions for all your automation needs. Let's turn your ideas into reality together!"
    />
    <meta
      name="keywords"
      content="Talha, shaheen, talha shaheen, saas, saas developer, web developer, full stack developer, javascript developer, fullstack developer, javascript"
    />
    <meta name="author" content="Talha Shaheen" />
    <meta property="og:title" content="Talha Shaheen - Javascript Developer" />
    <meta
      property="og:description"
      content="I'm Talha Shaheen, a seasoned JavaScript developer with a passion for crafting automation software, websites, and web applications. With my expertise in JavaScript technologies, I specialize in delivering custom solutions that streamline processes and boost productivity. Dive into my portfolio to explore innovative projects and discover tailored solutions for all your automation needs. Let's turn your ideas into reality together!"
    />
    <meta property="business:contact_data:locality" content="Pakistan" />
    <meta property="business:contact_data:region" content="" />
    <meta
      property="business:contact_data:country_name"
      content="United States"
    />
    <meta property="twitter:site" content="@klevertalha" />
    <meta property="twitter:card" content="summary" />
    <meta
      property="twitter:title"
      content="Talha Shaheen - Javascript Developer"
    />
    <meta
      property="twitter:description"
      content="I'm Talha Shaheen, a seasoned JavaScript developer with a passion for crafting automation software, websites, and web applications. With my expertise in JavaScript technologies, I specialize in delivering custom solutions that streamline processes and boost productivity. Dive into my portfolio to explore innovative projects and discover tailored solutions for all your automation needs. Let's turn your ideas into reality together!"
    />

    <!-- Title -->
    <title>Talha Shaheen - Javascript Developer</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Mr+Dafoe&display=swap"
      rel="stylesheet"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="css/basic.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/animate.css" />
    <link rel="stylesheet" href="css/jarallax.css" />
    <link rel="stylesheet" href="css/owl.carousel.css" />
    <link rel="stylesheet" href="css/swiper.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="shortcut icon" href="images/favicons/favicon.ico" />
    <link
      rel="shortcut icon"
      href="images/favicons/favicon.ico"
      type="image/x-icon"
    />

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Talha Shaheen Portfolio",
        "url": "https://www.yourportfolio.com",
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.9",
          "reviewCount": "300"
        }
      }
    </script>

    <style>
      :root {
        --bg: #1a1d21;
        --card: #2a2d31;
        --border: #3a3f45;
        --accent: #68e0cf;
      }

      * {
        box-sizing: border-box;
      }

      body {
        background: var(--bg);
        color: #fff;
        font-family: 'Poppins', sans-serif;
        margin: 0;
        padding: 40px 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1600px;
        margin: 0 auto;
      }

      /* nav */
      .nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 60px;
        padding-bottom: 20px;
        border-bottom: 1px solid #333;
      }

      .download {
        color: #fff;
        font-size: 42px;
        cursor: pointer;
      }

      .download:hover {
        color: #68e0cf;
      }

      .titles {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 20px;
      }

      .title {
        font-size: 42px;
        margin: 0;
        color: #fff;
        font-weight: 800;
      }

      .subtitle {
        font-size: 14px;
        color: #68e0cf;
        font-weight: 600;
        text-transform: uppercase;
      }

      /* FLEXBOX LAYOUT - Perfect for real banner sizes */
      .flex-container {
        display: flex;
        flex-wrap: wrap;
        gap: 50px;
        justify-content: center;
        align-items: flex-start;
        padding: 20px 0;
      }

      .banner-card {
        border-radius: 0;
        overflow: hidden;
      }

      .banner-card > .iframe-wrapper {
        border: 1px solid var(--border);
      }

      .banner-card > .iframe-wrapper:hover {
        border-color: var(--accent);
      }

      .banner-label {
        padding: 14px 20px 20px 0px;
        font-weight: 600;
        color: var(--accent);
        font-size: 15px;
        cursor: pointer;
      }

      /* Pure exact size - no borders, no rounding */
      .iframe-wrapper {
        width: fit-content;
        margin: 0 auto;
      }

      .banner-iframe {
        display: block;
        border: none;
      }

      .loading,
      .error {
        width: 100%;
        text-align: center;
        padding: 80px 20px;
        color: #888;
        font-size: 18px;
      }

      @media (max-width: 768px) {
        .nav {
          flex-direction: column;
          text-align: center;
        }

        .download {
          font-size: 32px;
        }

        .banner-card {
          overflow: scroll;
        }

        .titles {
          flex-direction: column;
        }

        .title {
          font-size: 32px;
        }

        .flex-container {
          gap: 40px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="nav">
        <a href="html5-ads-portfolio.html" class="btn"
          ><span class="animated-button"
            ><span>Back to Portfolio</span></span
          ></a
        >
        <div class="titles">
          <i
            class="fa-solid fa-download download"
            id="download"
            style="display: none"
          ></i>
          <div>
            <div id="title" class="title">Loading...</div>
            <div id="subtitle" class="subtitle">asdas</div>
          </div>
        </div>
      </div>

      <div id="flex-container" class="flex-container">
        <div class="loading">Loading banner sizes...</div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <script src="js/velocity.min.js"></script>
    <script src="js/jquery.validate.js"></script>
    <script src="js/magnific-popup.js"></script>
    <script src="js/typed.js"></script>
    <script src="js/jarallax.js"></script>
    <script src="js/jarallax-video.js"></script>
    <script src="js/jarallax-element.js"></script>
    <script src="js/imagesloaded.pkgd.js"></script>
    <script src="js/isotope.pkgd.js"></script>
    <script src="js/owl.carousel.js"></script>
    <script src="js/swiper.js"></script>
    <script src="js/scripts.js"></script>

    <script>
      const url = new URL(window.location.href);
      const mode = url.searchParams.get('mode');

      if (mode === 'limited') {
        document.querySelector('.btn').href = 'html5-ads-portfolio.html?mode=limited';
        document.querySelector('.header')?.remove();
        document.querySelector('.footer')?.remove();
      }

      const params = new URLSearchParams(location.search);
      const projectId = params.get('id');

      if (!projectId) {
        document.getElementById('flex-container').innerHTML =
          '<div class="error">No project specified.</div>';
      } else {
        loadProject(projectId);
      }

      async function loadProject(id) {
        try {
          const res = await fetch('ads-data.json');
          if (!res.ok) throw new Error('ads-data.json not found');
          const projects = await res.json();

          const project = projects.find((p) => p.id === id);
          if (!project) throw new Error('Project not found');

          document.getElementById('title').textContent = project.title;
          document.getElementById('subtitle').textContent =
            project.category.replace('-', ' ');

          // Download button
          const downloadBtn = document.getElementById('download');
          const zipUrl = `${project.path}/download.zip`;
          fetch(zipUrl, {
            method: 'HEAD',
          }).then((r) => {
            if (r.ok) {
              downloadBtn.style.display = 'inline-flex';

              // Click â†’ download ZIP
              downloadBtn.addEventListener('click', () => {
                const a = document.createElement('a');
                a.href = zipUrl;
                a.download = 'download.zip';
                document.body.appendChild(a);
                a.click();
                a.remove();
              });
            }
          });
          // Render with flexbox
          const container = document.getElementById('flex-container');
          container.innerHTML = '';

          project.sizes.forEach((size) => {
            const [w, h] = size.split('x').map(Number);

            const card = document.createElement('div');
            card.className = 'banner-card';

            card.innerHTML = `
                    <div class="iframe-wrapper">
                        <iframe 
                            class="banner-iframe"
                            src="${project.path}/${size}/index.html"
                            width="${w}"
                            height="${h}"
                            loading="lazy"
                            sandbox="allow-scripts allow-same-origin allow-modals allow-popups">
                        </iframe>
                    </div>
                    <div class="banner-label"><i class="fa fa-refresh"></i> ${size}</div>
                `;

            card
              .querySelector('.banner-label')
              .addEventListener('click', () => {
                location.reload();
              });

            container.appendChild(card);
          });
        } catch (err) {
          console.error(err);
          document.getElementById('flex-container').innerHTML =
            '<div class="error">Failed to load project.<br>Check console or JSON file.</div>';
        }
      }
    </script>
  </body>
</html>
